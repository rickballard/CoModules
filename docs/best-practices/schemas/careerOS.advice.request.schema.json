{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "careerOS.advice.request",
  "type": "object",
  "properties": {
    "user_constraints": {
      "type": "object",
      "properties": {
        "location": {"type":"string"},
        "remote_ok": {"type":"boolean"},
        "comp_band_usd": {"type":"array", "items":{"type":"integer"}, "minItems":2, "maxItems":2},
        "work_style": {"type":"string", "enum":["solo-deep","team-collab","hybrid"]},
        "visa_notes": {"type":"string"}
      },
      "additionalProperties": false
    },
    "weights": {
      "type": "object",
      "properties": {
        "salary": {"type":"number","minimum":0,"maximum":1},
        "security": {"type":"number","minimum":0,"maximum":1},
        "passion": {"type":"number","minimum":0,"maximum":1},
        "growth": {"type":"number","minimum":0,"maximum":1}
      },
      "required": ["salary","security","passion","growth"],
      "additionalProperties": false
    },
    "evidence_citations": {
      "type":"array",
      "items":{"type":"string"},
      "description":"URLs/refs: O*NET, ESCO/ISO, market data, etc."
    },
    "refusal_paths_allowed": {"type":"boolean", "default": true}
  },
  "required": ["user_constraints","weights","refusal_paths_allowed"],
  "additionalProperties": false
}
